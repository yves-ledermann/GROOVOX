<!DOCTYPE html>
<html id="all">
  <head>
    <meta charset="utf-8">
    <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
    <link rel="manifest" href="../site.webmanifest">
    <link rel="mask-icon" href="../safari-pinned-tab.svg" color="#0e0e0e">
    <meta name="msapplication-TileColor" content="#0e0e0e">
    <meta name="theme-color" content="#0e0e0e">
    <link rel="stylesheet" href="../css/master.css">
    <title>GROOVOX - Spotify Jukebox</title>

    <link rel="stylesheet" href="../dist/kioskBoard/kioskboard-1.4.0.min.css" />
  </head>
  <body onload="getToken('init')">
    <div id="tapstart">
      <h1>Please click the screen to start</h1>
    </div>
    <div class="playlist-window" id="playlist-window">
      <p>No song added yet</p>
    </div>
    <div id="song-overlay" class="overlay">
      <div class="chosen-song">
        <img id="song-cover" src="" alt="">
        <h1 id="song-name">Song Name</h1>
        <h2 id="song-artist">Artist</h2>
        <button type="button" onclick="addToQueue()"name="button">Add to queue</button>
        <button type="button" onclick="closePopup()" name="button">Close</button>
      </div>
    </div>
    <nav>
      <h1>GROOVOX</h1>
      <span>powered by Spotify</span>
    </nav>
    <main>
      <section id="browser">
        <div class="searchbar">
          <input id="searchInput" type="text" placeholder="Search for a song" name="" value="" class="js-virtual-keyboard" data-kioskboard-type="keyboard" data-kioskboard-specialcharacters="false">
          <button type="button" onclick="trackSearch()" class="search-button" name="button">Search</button>
        </div>
        <section id="warnings">
          <h1>Waiting for Spotify authentication</h1>
          <img src="../img/loading.svg" id="loading" alt="">
          <p>If you can't see the sign in window, please make sure pop-ups are allowed</p>
        </section>
        <section id="below-search">
          <h1>Featured Playlists</h1>
          <section id="featured" class="scroll-tracks">
          </section>
          <h1>Party Playlists</h1>
          <section id="party" class="scroll-tracks">
          </section>
          <h1>Mood Playlists</h1>
          <section id="mood" class="scroll-tracks">
          </section>
        </section>
      </section>
      <div id="search-overlay" class="overlay">
        <section id="search-results" class="search-results">
        </section>
      </div>
    </main>
    <section class="player">
      <div class="">
        <img id="playing-cover" class="album-art" src="../img/defaultCover.jpg" alt="">
        <div class="song-info">
          <h1 id="playing-name">No song loaded</h1>
          <p id="playing-artist"></p>
        </div>
      </div>
      <div class="audio-controls">
        <img onclick="playPause()" id="playPause" src="../img/play.svg" alt="">
        <img onclick="skip()" id="skip" src="../img/skip.svg" alt="">
      </div>
      <div class="player-right">
        <img onclick="togglePlaylistWindow()" class="playlist-button" src="../img/list.svg" alt="">
      </div>
    </section>
    <script src="https://sdk.scdn.co/spotify-player.js"></script>
  </body>
  <!-- Load the onscreen Keyboard -->
  <script src="..dist/kioskBoard/kioskboard-1.4.0.min.js"></script>
  <!-- Load the config constants -->
  <script src="../js/config.js" charset="utf-8"></script>
  <!-- Load the APP -->
  <script src="../js/player-script.js" charset="utf-8"></script>
  
  <!-- Matomo -->
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="https://stats.ltechnet.ch/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '26']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
  <!-- End Matomo Code -->
</html>
